{
  "tabs": [
    {
      "tabName": "Lambda & Metrics",
      "graphs": [
        {
          "graphStyle": "line",
          "query": "dataSource.vendor='AWS' service='lambda' | group count() by timestamp=timebucket('1h')",
          "title": "Lambda Event Rate",
          "layout": {
            "h": 8,
            "w": 30,
            "x": 0,
            "y": 0
          },
          "lineSmoothing": "straightLines"
        },
        {
          "graphStyle": "line",
          "query": "metric='CPUUtilization' | group max(value) by timestamp=timebucket('5m')",
          "title": "CPU Utilization",
          "layout": {
            "h": 8,
            "w": 30,
            "x": 30,
            "y": 0
          },
          "lineSmoothing": "straightLines"
        },
        {
          "graphStyle": "line",
          "query": "metric='NetworkIn' | group max(value) by timestamp=timebucket('5m')",
          "title": "Network In",
          "layout": {
            "h": 8,
            "w": 30,
            "x": 0,
            "y": 8
          },
          "lineSmoothing": "straightLines"
        },
        {
          "graphStyle": "line",
          "query": "metric='NetworkOut' | group max(value) by timestamp=timebucket('5m')",
          "title": "Network Out",
          "layout": {
            "h": 8,
            "w": 30,
            "x": 30,
            "y": 8
          },
          "lineSmoothing": "straightLines"
        }
      ]
    },
    {
      "tabName": "S3 & Flow Logs",
      "graphs": [
        {
          "graphStyle": "table",
          "query": "source contains 's3' | columns bucket, eventName, userIdentity.principalId, requestParameters.sourceIPAddress, responseElements.x_amz_request_id | sort -timestamp | limit 20",
          "title": "Recent S3 Events",
          "layout": {
            "h": 12,
            "w": 60,
            "x": 0,
            "y": 0
          },
          "showBarsColumn": false
        },
        {
          "graphStyle": "pie",
          "query": "dataset contains 'access' | group count() by uriPath | sort -count | limit 10",
          "title": "Top S3 Paths",
          "layout": {
            "h": 10,
            "w": 30,
            "x": 0,
            "y": 12
          },
          "maxPieSlices": 10
        },
        {
          "graphStyle": "table",
          "query": "action='ACCEPT' | columns timestamp, srcaddr, dstaddr, srcport, dstport, protocol, packets, bytes | sort -timestamp | limit 20",
          "title": "VPC Flow Log Sample",
          "layout": {
            "h": 12,
            "w": 30,
            "x": 30,
            "y": 12
          },
          "showBarsColumn": false
        }
      ]
    }
  ],
  "configType": "TABBED"
}